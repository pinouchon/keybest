<?xml version="1.0"?>
<root>
  <modifierdef>ALPHA</modifierdef>
  <modifierdef>BETA</modifierdef>
  <modifierdef>GAMMA</modifierdef>
  <modifierdef>DELTA</modifierdef>
  <!--<modifierdef>EPSILON</modifierdef>-->


  <!-- shell commands -->
  <!--<vkopenurldef>-->
    <!--<name>KeyCode::VK_OPEN_URL_SHELL_date_pbcopy</name>-->
    <!--<url type="shell">-->
      <!--<![CDATA[    /bin/date | /usr/bin/pbcopy    ]]>-->
    <!--</url>-->
  <!--</vkopenurldef>-->

  <vkopenurldef>
    <name>KeyCode::VK_OPEN_URL_SHELL_nc_left</name>
    <url type="shell">
      <![CDATA[    echo 'left' | nc 127.0.0.1 3333    ]]>
    </url>
  </vkopenurldef>

  <vkopenurldef>
    <name>KeyCode::VK_OPEN_URL_SHELL_nc_right</name>
    <url type="shell">
      <![CDATA[    echo 'right' | nc 127.0.0.1 3333    ]]>
    </url>
  </vkopenurldef>

  <vkopenurldef>
    <name>KeyCode::VK_OPEN_URL_SHELL_nc_zero</name>
    <url type="shell">
      <![CDATA[    echo 'zero' | nc 127.0.0.1 3333    ]]>
    </url>
  </vkopenurldef>

  <%= render partial: 'caesar_mapping' %>

  <item>
    <name>Modifier keys</name>
    <identifier>private.modifier_keys</identifier>

    <!--SHIFT TO SHIFT+TAB-->
    <autogen>
      __KeyToKey__
      KeyCode::DANISH_DOLLAR,
      KeyCode::TAB
    </autogen>

    <!--<autogen>-->
      <!--__KeyToKey__-->
      <!--__{ KeyCode::JIS_KANA, ModifierFlag::COMMAND_L }__-->
      <!--__{ KeyCode::TAB }__-->
    <!--</autogen>-->
    <autogen>
      __KeyToKey__
      KeyCode::JIS_KANA,
      KeyCode::VK_MODIFIER_ALPHA
    </autogen>

    <!--MODIFIER KEYS DEFINITION-->
    <autogen>__KeyToKey__ KeyCode::SEMICOLON, KeyCode::VK_MODIFIER_GAMMA</autogen>

    <autogen>__KeyToKey__ KeyCode::BACKQUOTE, KeyCode::VK_MODIFIER_BETA</autogen>
    <autogen>__KeyToKey__ KeyCode::KEYPAD_CLEAR, KeyCode::SHIFT_L</autogen>

    <autogen>__KeyToKey__ KeyCode::SLASH, KeyCode::VK_MODIFIER_DELTA</autogen>
    <!--<autogen>__KeyToKey__ KeyCode::SHIFT_R, KeyCode::VK_MODIFIER_DELTA</autogen>-->

    <!--MODIFIER KEYS BINDINGS-->


    <!--<autogen>__KeyToKey__ KeyCode::COMMA, ModifierFlag::ALPHA, KeyCode::CURSOR_DOWN</autogen>-->


    <!-- ===================================== OLD NC COMMANDS ==================================== -->
    <!--NC LEFT AND RIGHT-->
    <!--<autogen>-->
      <!--__KeyToKey__-->
      <!--KeyCode::H, ModifierFlag::ALPHA,-->
      <!--KeyCode::VK_OPEN_URL_SHELL_nc_left,-->
    <!--</autogen>-->

    <!--<autogen>-->
      <!--__KeyToKey__-->
      <!--KeyCode::SEMICOLON, ModifierFlag::ALPHA,-->
      <!--KeyCode::VK_OPEN_URL_SHELL_nc_right,-->
    <!--</autogen>-->

    <%# SPECIALS %>
    <!--<autogen>__KeyToKey__ KeyCode::DANISH_DOLLAR, KeyCode::TAB</autogen>-->

    <%# NUMBERS %>

    <!--<autogen>__KeyToKey__ KeyCode::SEMICOLON, ModifierFlag::BETA, KeyCode::KEY_0, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::A, ModifierFlag::BETA, KeyCode::KEY_1, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::S, ModifierFlag::BETA, KeyCode::KEY_2, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::D, ModifierFlag::BETA, KeyCode::KEY_3, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::F, ModifierFlag::BETA, KeyCode::KEY_4, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::G, ModifierFlag::BETA, KeyCode::KEY_5, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::H, ModifierFlag::BETA, KeyCode::KEY_6, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::J, ModifierFlag::BETA, KeyCode::KEY_7, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::K, ModifierFlag::BETA, KeyCode::KEY_8, ModifierFlag::SHIFT_L</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::L, ModifierFlag::BETA, KeyCode::KEY_9, ModifierFlag::SHIFT_L</autogen>-->

    <%# Backspace %>
    <!--<autogen>-->
      <!--__KeyToKey__ KeyCode::F, ModifierFlag::ALPHA,-->
      <!--KeyCode::DELETE-->
    <!--</autogen>-->

    <!--<autogen>-->
      <!--__KeyToKey__ KeyCode::COMMAND_L, ModifierFlag::ALPHA,-->
      <!--KeyCode::SHIFT_L, ModifierFlag::ALPHA-->
    <!--</autogen>-->

        <!--<autogen>-->
      <!--__KeyToKey__ KeyCode::SPACE, ModifierFlag::ALPHA-->
      <!--&lt;!&ndash;KeyCod  e::DELETE&ndash;&gt;-->
      <!--__{ KeyCode::CURSOR_LEFT }__-->
    <!--</autogen>-->
    <!--<autogen>-->
      <!--__KeyToKey__ KeyCode::SPACE, ModifierFlag::ALPHA | ModifierFlag::FN,-->
      <!--__{ KeyCode::CURSOR_RIGHT }__-->
    <!--</autogen>-->
    <!--<autogen>-->
      <!--__KeyToKey__ KeyCode::SPACE, ModifierFlag::SHIFT_L-->
      <!--__{ KeyCode::CURSOR_DOWN }__-->
    <!--</autogen>-->
    <!--<autogen>-->
      <!--__SimultaneousKeyPresses__ KeyCode::CURSOR_UP, KeyCode::CURSOR_LEFT-->
      <!--__{ KeyCode::CURSOR_RIGHT, KeyCode::VK_OPEN_URL_SHELL_nc_zero }__-->
    <!--</autogen>-->
  </item>

  <item>
    <name>Mappings</name>
    <identifier>mappings</identifier>

    <!-- ===================================== DIGITS ==================================== -->
    <% (1..9).to_a.map do |i| %>
      <autogen>
        __KeyToKey__ KeyCode::KEY_<%= i %>, ModifierFlag::SHIFT_L,
        KeyCode::KEY_<%= i %>, ModifierFlag::SHIFT_L
      </autogen>
    <% end %>

    <!-- ===================================== PREV AND NEXT TAB ================================ -->
    <autogen>
      __KeyToKey__ KeyCode::J, ModifierFlag::ALPHA, ModifierFlag::OPTION_L,
      KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L, ModifierFlag::OPTION_L
    </autogen>
    <autogen>
      __KeyToKey__ KeyCode::L, ModifierFlag::ALPHA, ModifierFlag::OPTION_L,
      KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L, ModifierFlag::OPTION_L
    </autogen>


    <!-- ===================================== ALPHA MAPPING ==================================== -->
    <% @alpha_mapping.each do |from, to| %>
      <% next if to.nil? %>
      <% if %W(U I O P H J K L QUOTE N M COMMA DOT KEY_8).include?(from) %>
        <autogen>
          __KeyToKey__ KeyCode::<%= from %>, ModifierFlag::ALPHA, ModifierFlag::COMMAND_L
          <%= to %>, ModifierFlag::SHIFT_L
        </autogen>
      <% end %>
      <autogen>
        __KeyToKey__ KeyCode::<%= from %>, ModifierFlag::ALPHA
        <%= to %>
      </autogen>
    <% end %>

    <!-- ===================================== BETA MAPPING ==================================== -->
    <% @beta_mapping.each do |from, to| %>
      <% next if to.nil? %>
      <autogen>
        __KeyToKey__ KeyCode::<%= from %>, ModifierFlag::BETA
        <%= to %>
      </autogen>
    <% end %>



    <!-- ===================================== GAMMA MAPPING =================================== -->
    <% @gamma_mapping.each do |from, to| %>
      <% next if to.nil? %>
      <autogen>
        __KeyToKey__ KeyCode::<%= from %>, ModifierFlag::GAMMA
        <%= to %>
      </autogen>
    <% end %>

    <!-- ===================================== DELTA MAPPING =================================== -->
    <% @delta_mapping.each do |from, to| %>
      <% next if to.nil? %>
      <autogen>
        __KeyToKey__ KeyCode::<%= from %>, ModifierFlag::DELTA
        <%= to %>
      </autogen>
    <% end %>

    <!-- ===================================== MISC =================================== -->
    <!-- Invert command+m and command+f -->
    <autogen>
      __KeyToKey__ KeyCode::E, ModifierFlag::COMMAND_L,
      KeyCode::F, ModifierFlag::COMMAND_L
    </autogen>
    <!--<autogen>-->
      <!--__KeyToKey__ KeyCode::U, ModifierFlag::COMMAND_L,-->
      <!--KeyCode::M, ModifierFlag::COMMAND_L-->
    <!--</autogen>-->
    <!-- pound to _ -->
    <autogen>
      __KeyToKey__ KeyCode::BACKSLASH, ModifierFlag::NONE,
      KeyCode::EQUAL, ModifierFlag::SHIFT_L
    </autogen>
    <autogen>
      __KeyToKey__ KeyCode::BACKSLASH, ModifierFlag::SHIFT_L | ModifierFlag::NONE,
      KeyCode::EQUAL, ModifierFlag::SHIFT_L
    </autogen>
    <!-- ) to . -->
    <autogen>
      __KeyToKey__ KeyCode::MINUS, ModifierFlag::NONE,
      KeyCode::DOT
    </autogen>
    <autogen>
      __KeyToKey__ KeyCode::MINUS, ModifierFlag::SHIFT_L,
      KeyCode::COMMA, ModifierFlag::SHIFT_L
    </autogen>
    <!-- - to , -->
    <autogen>
      __KeyToKey__ KeyCode::EQUAL, ModifierFlag::NONE,
      KeyCode::EQUAL
    </autogen>
    <autogen>
      __KeyToKey__ KeyCode::EQUAL, ModifierFlag::SHIFT_L,
      KeyCode::M
    </autogen>
    <!-- command ) to command + -->
    <autogen>
      __KeyToKey__ KeyCode::MINUS, ModifierFlag::COMMAND_R,
      KeyCode::SLASH, ModifierFlag::COMMAND_R, ModifierFlag::SHIFT_L
    </autogen>
    <!--command - to command - -->
  </item>


  <%= render 'switch_profile' %>
  <%= render 'dvorak_mapping' %>
  <%#= render 'paren' %>
  <%= render 'home_end' %>
  <%#= render 'numbers' %>

  <item>
    <name>simultaneous_backspace</name>
    <identifier>simultaneous_backspace</identifier>
    <autogen>
      __SimultaneousKeyPresses__
      KeyCode::KEY_3, KeyCode::K,

      KeyCode::DELETE,
    </autogen>
  </item>
</root>
